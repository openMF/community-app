<div ng-controller="ViewClientController">
  <div class="row paddedtop">
    <div class="pull-right">
      <div class="btn-group">
          <a href="#/editclient/{{client.id}}" class="btn btn-primary"><i class="icon-edit icon-white"></i> Edit</a>
          <a href="#" class="btn btn-primary"><i class="icon-plus icon-white"></i> New Loan</a>
          <a href="#" class="btn btn-primary"><i class="icon-list-ul icon-white"></i> Add Note</a>
          <a href="#" class="btn btn-primary"><i class="icon-trash icon-white"></i> Close</a>
      </div>
    </div>
  </div>
  <div>
    <div id="clientviewtop" class="row">
      <div class="paddedleft"><span class="pull-left"><h3><i class="icon-stop {{client.status.value | StatusLookup}}"></i>&nbsp;{{client.displayName}}</h3></span></div>
    </div>
    <div class="row paddedleft">
      <div class="span3">
        <img src="../prototype-app/image/blank_avatar.jpg" alt="Avatar" width="100">
      </div>
      <div class="span5">
          <strong>{{ 'label.accountno' | translate }}&nbsp;</strong> {{client.accountNo}} <br>
          <strong>{{ 'label.activationdate' | translate }}&nbsp;</strong> {{client.activationDate}} <br>
          <strong>{{ 'label.officename' | translate }}&nbsp;</strong> {{client.officeName}} <br>
          <strong>{{ 'label.memberof' | translate }}&nbsp;</strong><span ng-repeat="group in client.groups" > {{group.name}}&nbsp;</span> <br>
          <strong>{{ 'label.loanofficer' | translate }}&nbsp;</strong> {{client.staffName}} <br>
      </div>
    </div>
    <div class="row paddedleft">
      <hr/>
      <tabset >
      <tab heading="Accounts">
        <div> 
          <p>
            <b>Loan Accounts Overview</b>
          </p>
          <table class="table condensed-table">
          <thead>
              <tr>
                  <th>Account No</th>
                  <th>Product</th>
                  <th>Loan Type</th>
                  <th>Status</th>
              </tr>
          </thead>
          <tbody>
              <tr ng-repeat="loanaccount in clientAccounts.loanAccounts | filter:isNotClosed" >
                <td><a href="#/viewloanaccount/{{loanaccount.id}}"><i class="icon-stop {{loanaccount.status.code | StatusLookup}}"></i>&nbsp;{{loanaccount.accountNo}}</a></td>
                <td><a href="#/viewloanaccount/{{loanaccount.id}}">{{loanaccount.productName}}</a></td>
                <td>{{loanaccount.loanType.value}}</td>
                <td>{{loanaccount.status.value}}</td> 
              </tr>
          </tbody>
          </table>
        </div>
        <div>
          <p>
            <b>Saving Accounts Overview</b>
          </p>
          <table class="table condensed-table">
          <thead>
            <tr>
              <th>Account No</th>
              <th>Product</th>
              <th>Status</th>
              <th>Balance</th>
            </tr>
          </thead>
          <tbody>
              <tr ng-repeat="savingaccount in clientAccounts.savingsAccounts">
                <td><i class="icon-stop {{savingaccount.status.code | StatusLookup}}"></i>&nbsp;<a href="#">{{savingaccount.accountNo}}</a></td>
                <td>{{savingaccount.productName}}</td>
                <td>{{savingaccount.status.value}}</td>
                <td>{{savingaccount.accountBalance}}</td>         
              </tr>
          </tbody>
          </table>
        </div>
      </tab>
      <tab heading="Identify Documents">
        <table class="table">
            <thead>
              <th>{{'table.heading.uniqueidentification' | translate}}</th>
              <th>{{'table.heading.description' | translate}}</th>
              <th>{{'table.heading.identitydocuments' | translate}}</th>
              <th>{{'table.heading.actions' | translate}}</th>
            </thead>
            <tbody>
              <tr ng-repeat="document in identitydocuments">
                <td>{{document.documentKey}}</td>
                <td>{{document.description}}</td>
                <td>
                  <span ng-repeat="file in document.documents">{{file.fileName}}&nbsp;&nbsp;</span>
                </td>
                <td>
                  <i class="icon-cloud-download"></i>&nbsp;
                  <i class="icon-edit"></i>&nbsp;
                  <i class="icon-remove"></i>
                </td>
              </tr>
            </tbody>
          </table>
      </tab>
      <tab heading="Notes">
        <div ng-repeat="clientNote in clientNotes">
          <div>
            <blockquote>
              <p>{{clientNote.note}}</p>
              <small>Created by :&nbsp;{{clientNote.createdByUsername}}</small>
              <small>Created on :&nbsp;{{clientNote.createdOn}}</small>
            </blockquote>
          </div>
        </div>
        </ul>
      </tab>
      <tab heading="Closed Account">
        <div> 
          <p>
            <b>Loan Accounts Overview</b>
          </p>
          <table class="table condensed-table">
          <thead>
              <tr>
                  <th>Account No</th>
                  <th>Product</th>
                  <th>Loan Type</th>
                  <th>Status</th>
              </tr>
          </thead>
          <tbody>
              <tr ng-repeat="loanaccount in clientAccounts.loanAccounts | filter:isClosed" >
                <td><a href="#/viewloanaccount/{{loanaccount.id}}"><i class="icon-stop {{loanaccount.status.code | StatusLookup}}"></i>&nbsp;{{loanaccount.accountNo}}</a></td>
                <td><a href="#/viewloanaccount/{{loanaccount.id}}">{{loanaccount.productName}}</a></td>
                <td>{{loanaccount.loanType.value}}</td>
                <td>{{loanaccount.status.value}}</td> 
              </tr>
          </tbody>
          </table>
        </div>
      </tab>
    </tabset>
    </div>
  </div>
</div>
