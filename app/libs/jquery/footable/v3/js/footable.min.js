(function(t,e){window.console=window.console||{log:function(){},error:function(){}},t.fn.footable=function(t,i){return t=t||{},this.filter("table").each(function(n,s){var r=e.get(s);r instanceof e.Table&&r.destroy(),e.init(s,t,i)})};var i={events:[]};e.__debug__=JSON.parse(localStorage.getItem("footable_debug"))||!1,e.__debug_options__=JSON.parse(localStorage.getItem("footable_debug_options"))||i,e.debug=function(n,s){return e.is.boolean(n)?(e.__debug__=n,e.__debug__?(localStorage.setItem("footable_debug",JSON.stringify(e.__debug__)),e.__debug_options__=t.extend(!0,{},i,s||{}),e.is.hash(s)&&localStorage.setItem("footable_debug_options",JSON.stringify(e.__debug_options__))):(localStorage.removeItem("footable_debug"),localStorage.removeItem("footable_debug_options")),void 0):e.__debug__},e.get=function(e){return t(e).first().data("__FooTable__")},e.init=function(t,i,n){return new e.Table(t,i,n)}})(jQuery,FooTable=window.FooTable||{}),function(t){var e=function(){return!0};t.arr={},t.arr.each=function(e,i){if(t.is.array(e)&&t.is.fn(i))for(var n=0,s=e.length;s>n&&i(e[n],n)!==!1;n++);},t.arr.get=function(e,i){var n=[];if(!t.is.array(e))return n;if(!t.is.fn(i))return e;for(var s=0,r=e.length;r>s;s++)i(e[s],s)&&n.push(e[s]);return n},t.arr.any=function(i,n){if(!t.is.array(i))return!1;n=t.is.fn(n)?n:e;for(var s=0,r=i.length;r>s;s++)if(n(i[s],s))return!0;return!1},t.arr.contains=function(e,i){if(!t.is.array(e)||t.is.undef(i))return!1;for(var n=0,s=e.length;s>n;n++)if(e[n]==i)return!0;return!1},t.arr.first=function(i,n){if(!t.is.array(i))return null;n=t.is.fn(n)?n:e;for(var s=0,r=i.length;r>s;s++)if(n(i[s],s))return i[s];return null},t.arr.map=function(e,i){var n=[],s=null;if(!t.is.array(e)||!t.is.fn(i))return n;for(var r=0,o=e.length;o>r;r++)null!=(s=i(e[r],r))&&n.push(s);return n},t.arr.remove=function(e,i){var n=[],s=[];if(!t.is.array(e)||!t.is.fn(i))return s;for(var r=0,o=e.length;o>r;r++)i(e[r],r,s)&&(n.push(r),s.push(e[r]));for(n.sort(function(t,e){return e-t}),r=0,o=n.length;o>r;r++){var a=n[r]-r;e.splice(a,1)}return s}}(FooTable),function(t){t.is={},t.is.type=function(t,e){return typeof t===e},t.is.defined=function(t){return t!==void 0},t.is.undef=function(t){return t===void 0},t.is.array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.is.date=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},t.is.boolean=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},t.is.string=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.is.number=function(t){return"[object Number]"===Object.prototype.toString.call(t)},t.is.fn=function(e){return t.is.defined(window)&&e===window.alert||"[object Function]"===Object.prototype.toString.call(e)},t.is.error=function(t){return"[object Error]"===Object.prototype.toString.call(t)},t.is.object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},t.is.hash=function(e){return t.is.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},t.is.element=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.is.promise=function(e){return t.is.object(e)&&t.is.fn(e.then)&&t.is.fn(e.promise)},t.is.jq=function(e){return t.is.defined(jQuery)&&e instanceof jQuery&&e.length>0},t.is.emptyObject=function(e){if(!t.is.hash(e))return!1;for(var i in e)if(e.hasOwnProperty(i))return!1;return!0},t.is.emptyArray=function(e){return t.is.array(e)?0===e.length:!0},t.is.emptyString=function(e){return t.is.string(e)?0===e.length:!0}}(FooTable),function(t){t.str={},t.str.contains=function(e,i,n){return!t.is.emptyString(e)&&!t.is.emptyString(i)&&i.length<=e.length&&-1!==(n?e.toUpperCase().indexOf(i.toUpperCase()):e.indexOf(i))},t.str.containsWord=function(e,i,n){if(t.is.emptyString(e)||t.is.emptyString(i)||e.length<i.length)return!1;for(var s=e.split(/\W/),r=0,o=s.length;o>r;r++)if(n?s[r].toUpperCase()==i.toUpperCase():s[r]==i)return!0;return!1},t.str.from=function(t,e){return this.contains(t,e)?t.substring(t.indexOf(e)+1):t},t.str.startsWith=function(t,e){return t.slice(0,e.length)==e},t.str.toCamelCase=function(t){return t.toUpperCase()===t?t.toLowerCase():t.replace(/^([A-Z])|[-\s_](\w)/g,function(t,e,i){return i?i.toUpperCase():e.toLowerCase()})}}(FooTable),function(t){"use strict";function e(){}Object.create||(Object.create=function(){var e=function(){};return function(i){if(arguments.length>1)throw Error("Second argument not supported");if(!t.is.object(i))throw TypeError("Argument must be an object");e.prototype=i;var n=new e;return e.prototype=null,n}}());var i=/xyz/.test(function(){})?/\b_super\b/:/.*/;e.__extend__=function(e,n,s,r){e[n]=t.is.fn(r)&&i.test(s)?function(t,e){return function(){var t,i;return t=this._super,this._super=r,i=e.apply(this,arguments),this._super=t,i}}(n,s):s},e.extend=function(n,s){function r(e,n,s,r){e[n]=t.is.fn(r)&&i.test(s)?function(t,e,i){return function(){var t,n;return t=this._super,this._super=i,n=e.apply(this,arguments),this._super=t,n}}(n,s,r):s}var o=Array.prototype.slice.call(arguments);if(n=o.shift(),s=o.shift(),t.is.hash(n)){var a=Object.create(this.prototype),l=this.prototype;for(var c in n)"__ctor__"!==c&&r(a,c,n[c],l[c]);var u=t.is.fn(a.__ctor__)?a.__ctor__:function(){if(!t.is.fn(this.construct))throw new SyntaxError('FooTable class objects must be constructed with the "new" keyword.');this.construct.apply(this,arguments)};return a.construct=t.is.fn(a.construct)?a.construct:function(){},u.prototype=a,a.constructor=u,u.extend=e.extend,u}t.is.string(n)&&t.is.fn(s)&&r(this.prototype,n,s,this.prototype[n])},t.Class=e,t.ClassFactory=t.Class.extend({construct:function(){this.registered={}},contains:function(e){return t.is.defined(this.registered[e])},register:function(e,i,n){if(t.is.string(e)&&t.is.fn(i)){var s=this.registered[e];this.registered[e]={name:e,klass:i,priority:t.is.number(n)?n:t.is.defined(s)?s.priority:0}}},load:function(){var e=this,i=Array.prototype.slice.call(arguments),n=[],s=[];for(var r in e.registered)e.registered.hasOwnProperty(r)&&n.push(e.registered[r]);return n.sort(function(t,e){return e.priority-t.priority}),t.arr.each(n,function(n){t.is.fn(n.klass)&&s.push(e._make(n.klass,i))}),s},make:function(e){var i,n=this,s=Array.prototype.slice.call(arguments);return e=s.shift(),i=n.registered[e],t.is.fn(i.klass)?n._make(i.klass,s):null},_make:function(t,e){function i(){return t.apply(this,e)}return i.prototype=t.prototype,new i}})}(FooTable),function(t,e){e.css2json=function(i){if(e.is.emptyString(i))return{};for(var n,s,r,o={},a=i.split(";"),l=0,c=a.length;c>l;l++)n=a[l].split(":"),s=e.str.toCamelCase(t.trim(n[0])),r=t.trim(n[1]),o[s]=r;return o},e.getFnPointer=function(t){return e.is.emptyString(t)?null:e.is.fn(window[t])?window[t]:null},e.checkFnValue=function(t,i,n){function s(t,i,n){return e.is.fn(i)?function(){return i.apply(t,arguments)}:n}return n=e.is.fn(n)?n:null,e.is.fn(i)?s(t,i,n):e.is.type(i,"string")?s(t,e.getFnPointer(i),n):n}}(jQuery,FooTable),function(t,e){e.Cell=e.Class.extend({construct:function(t,e,i,n){this.ft=t,this.row=e,this.column=i,this.created=!1,this.define(n)},define:function(i){this.$el=e.is.element(i)||e.is.jq(i)?t(i):null,this.$detail=null;var n=e.is.hash(i)&&e.is.hash(i.options)&&e.is.defined(i.value);this.value=this.column.parser.call(this.column,e.is.jq(this.$el)?this.$el:n?i.value:i,this.ft.o),this.o=t.extend(!0,{classes:null,style:null},n?i.options:{}),this.classes=e.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").split(/\S+/g):e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[],this.style=e.is.jq(this.$el)&&this.$el.attr("style")?e.css2json(this.$el.attr("style")):e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{}},$create:function(){this.created||((this.$el=e.is.jq(this.$el)?this.$el:t("<td/>")).data("value",this.value).contents().detach().end().append(this.format(this.value)),this._setClasses(this.$el),this._setStyle(this.$el),this.$detail=t("<tr/>").addClass(this.row.classes.join(" ")).data("__FooTableCell__",this).append(t("<th/>",{text:this.column.title})).append(t("<td/>")),this.created=!0)},collapse:function(){this.created&&(this.$detail.children("td").first().attr("class",this.$el.attr("class")).attr("style",this.$el.attr("style")).css("display","table-cell").append(this.$el.contents().detach()),e.is.jq(this.$detail.parent())||this.$detail.appendTo(this.row.$details.find(".footable-details > tbody")))},restore:function(){if(this.created){if(e.is.jq(this.$detail.parent())){var t=this.$detail.children("td").first();this.$el.attr("class",t.attr("class")).attr("style",t.attr("style")).css("display",this.column.hidden||!this.column.visible?"none":"table-cell").append(t.contents().detach())}this.$detail.detach()}},parse:function(){return this.column.parser.call(this.column,this.$el,this.ft.o)},format:function(t){return this.column.formatter.call(this.column,t,this.ft.o)},val:function(i,n){if(e.is.undef(i))return this.value;var s=this,r=e.is.hash(i)&&e.is.hash(i.options)&&e.is.defined(i.value);if(this.o=t.extend(!0,{classes:s.classes,style:s.style},r?i.options:{}),this.value=r?i.value:i,this.classes=e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[],this.style=e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},this.created){this.$el.data("value",this.value).empty();var o=this.$detail.children("td").first().empty(),a=e.is.jq(this.$detail.parent())?o:this.$el;a.append(this.format(this.value)),this._setClasses(a),this._setStyle(a),(e.is.boolean(n)?n:!0)&&this.row.draw()}},_setClasses:function(t){var i=!e.is.emptyArray(this.column.classes),n=!e.is.emptyArray(this.classes),s=null;t.removeAttr("class"),(i||n)&&(i&&n?s=this.classes.concat(this.column.classes).join(" "):i?s=this.column.classes.join(" "):n&&(s=this.classes.join(" ")),e.is.emptyString(s)||t.addClass(s))},_setStyle:function(i){var n=!e.is.emptyObject(this.column.style),s=!e.is.emptyObject(this.style),r=null;i.removeAttr("style"),(n||s)&&(n&&s?r=t.extend({},this.column.style,this.style):n?r=this.column.style:s&&(r=this.style),e.is.hash(r)&&i.css(r))}})}(jQuery,FooTable),function(t,e){e.Column=e.Class.extend({construct:function(t,i){this.ft=t,this.type="text",this.virtual=e.is.boolean(i.virtual)?i.virtual:!1,this.$el=e.is.jq(i.$el)?i.$el:null,this.index=e.is.number(i.index)?i.index:-1,this.define(i),this.$create()},define:function(t){this.hidden=e.is.boolean(t.hidden)?t.hidden:!1,this.visible=e.is.boolean(t.visible)?t.visible:!0,this.name=e.is.string(t.name)?t.name:null,null==this.name&&(this.name="col"+(t.index+1)),this.title=e.is.string(t.title)?t.title:null,!this.virtual&&null==this.title&&e.is.jq(this.$el)&&(this.title=this.$el.html()),null==this.title&&(this.title="Column "+(t.index+1)),this.style=e.is.hash(t.style)?t.style:e.is.string(t.style)?e.css2json(t.style):{},this.classes=e.is.array(t.classes)?t.classes:e.is.string(t.classes)?t.classes.split(/\S+/g):[],this.parser=e.checkFnValue(this,t.parser,this.parser),this.formatter=e.checkFnValue(this,t.formatter,this.formatter)},$create:function(){(this.$el=!this.virtual&&e.is.jq(this.$el)?this.$el:t("<th/>")).html(this.title)},parser:function(t){return e.is.jq(t)?t.data("value")||t.text():e.is.defined(t)&&null!=t?t+"":null},formatter:function(t){return null==t?"":t},createCell:function(t){var i=e.is.jq(t.$el)?t.$el.children("td,th").get(this.index):null,n=e.is.hash(t.value)?t.value[this.name]:null;return new e.Cell(this.ft,t,this,i||n)}}),e.columns=new e.ClassFactory}(jQuery,FooTable),function(t,e){e.Defaults=function(){this.stopPropagation=!1,this.on=null},e.defaults=new e.Defaults}(jQuery,FooTable),function(t,e){e.Row=e.Class.extend({construct:function(t,e,i){this.ft=t,this.columns=e,this.created=!1,this.define(i)},define:function(i){this.$el=e.is.element(i)||e.is.jq(i)?t(i):null,this.$toggle=t("<span/>",{"class":"footable-toggle fooicon fooicon-plus"});var n=e.is.hash(i),s=n&&e.is.hash(i.options)&&e.is.hash(i.value);if(this.value=n?s?i.value:i:null,this.o=t.extend(!0,{expanded:!1,classes:null,style:null},s?i.options:{}),this.expanded=e.is.jq(this.$el)?this.$el.data("expanded")||this.o.expanded:this.o.expanded,this.classes=e.is.jq(this.$el)&&this.$el.attr("class")?this.$el.attr("class").split(/\S+/g):e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[],this.style=e.is.jq(this.$el)&&this.$el.attr("style")?e.css2json(this.$el.attr("style")):e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{},this.cells=this.createCells(),!e.is.hash(this.value)||e.is.emptyObject(this.value)){var r={};e.arr.each(self.cells,function(t){r[t.column.name]=t.val()}),this.value=r}},$create:function(){if(!this.created){(this.$el=e.is.jq(this.$el)?this.$el:t("<tr/>")).data("__FooTableRow__",this),this._setClasses(this.$el),this._setStyle(this.$el),"last"==this.ft.rows.toggleColumn&&this.$toggle.addClass("last-column"),this.$details=t("<tr/>",{"class":"footable-detail-row"}).append(t("<td/>",{colspan:this.ft.columns.visibleColspan}).append(t("<table/>",{"class":"footable-details "+this.ft.classes.join(" ")}).append("<tbody/>")));var i=this;e.arr.each(i.cells,function(t){t.created||t.$create(),i.$el.append(t.$el)}),i.$el.off("click.ft.row").on("click.ft.row",{self:i},i._onToggle),this.created=!0}},createCells:function(){var t=this;return e.arr.map(t.columns,function(e){return e.createCell(t)})},val:function(i){if(!e.is.hash(i))return this.value;this.collapse(!1);var n=this,s=e.is.hash(i),r=s&&e.is.hash(i.options)&&e.is.hash(i.value);this.o=t.extend(!0,{expanded:n.expanded,classes:n.classes,style:n.style},r?i.options:{}),this.expanded=this.o.expanded,this.classes=e.is.array(this.o.classes)?this.o.classes:e.is.string(this.o.classes)?this.o.classes.split(/\S+/g):[],this.style=e.is.hash(this.o.style)?this.o.style:e.is.string(this.o.style)?e.css2json(this.o.style):{};var o=r?i.value:i;e.arr.each(this.cells,function(t){e.is.defined(o[t.column.name])&&t.val(o[t.column.name],!1)}),this.created&&(this._setClasses(this.$el),this._setStyle(this.$el),this.draw())},_setClasses:function(t){var i=!e.is.emptyArray(this.classes),n=null;t.removeAttr("class"),i&&(n=this.classes.join(" "),e.is.emptyString(n)||t.addClass(n))},_setStyle:function(t){var i=!e.is.emptyObject(this.style),n=null;t.removeAttr("style"),i&&(n=this.style,e.is.hash(n)&&t.css(n))},expand:function(){this.created&&(this.__hidden__=e.arr.map(this.cells,function(t){return t.column.hidden&&t.column.visible?t:null}),this.__hidden__.length>0&&(this.$details.insertAfter(this.$el).children("td").first().attr("colspan",this.ft.columns.visibleColspan),e.arr.each(this.__hidden__,function(t){t.collapse()})),this.$el.attr("data-expanded",!0),this.$toggle.removeClass("fooicon-plus").addClass("fooicon-minus"),this.expanded=!0)},collapse:function(t){this.created&&(e.arr.each(this.__hidden__,function(t){t.restore()}),this.$details.detach(),this.$el.removeAttr("data-expanded"),this.$toggle.removeClass("fooicon-minus").addClass("fooicon-plus"),(e.is.boolean(t)?t:!0)&&(this.expanded=!1))},predraw:function(){this.created&&(this.expanded&&this.collapse(!1),this.$toggle.detach(),this.$el.detach())},draw:function(t){this.created||this.$create(),t.append(this.$el);var i=this;e.arr.each(i.cells,function(t){t.$el.css("display",t.column.hidden||!t.column.visible?"none":"table-cell"),i.ft.rows.showToggle&&i.ft.columns.hasHidden&&("first"==i.ft.rows.toggleColumn&&t.column.index==i.ft.columns.firstVisibleIndex||"last"==i.ft.rows.toggleColumn&&t.column.index==i.ft.columns.lastVisibleIndex)&&t.$el.prepend(i.$toggle)}),this.expanded&&this.expand()},toggle:function(){this.created&&this.ft.columns.hasHidden&&(this.expanded?this.collapse():this.expand())},_onToggle:function(e){var i=e.data.self;t(e.target).is("tr,td,.footable-toggle")&&i.toggle()}})}(jQuery,FooTable),function(t,e){e.instances=[],e.Table=e.Class.extend({construct:function(i,n,s){this._resizeTimeout=null,this.id=e.instances.push(this),this.initialized=!1,this.$el=(e.is.jq(i)?i:t(i)).first(),this.o=t.extend(!0,{},e.defaults,n),this.classes=[],this.breakpoints=e.components.internal.make("breakpoints",this),this.columns=e.components.internal.make("columns",this),this.rows=e.components.internal.make("rows",this),this.components={internal:[this.breakpoints,this.columns,this.rows],core:e.components.core.load(this),custom:e.components.load(this)};var r=this;r._preinit().then(function(){return r._init().then(function(){e.is.fn(s)&&s.call(r,r)})},function(t){e.is.error(t)&&console.error("FooTable: unhandled error thrown during initialization.",t)})},_preinit:function(){var i=this;return this.raise("preinit.ft.table").then(function(){var n=i.$el.attr("class").match(/\S+/g),s=i.$el.data()||{};i.o.ajax=e.checkFnValue(i,s.ajax,i.o.ajax),i.o.stopPropagation=e.is.boolean(s.stopPropagation)?s.stopPropagation:i.o.stopPropagation;for(var r=0,o=n.length;o>r;r++)e.str.startsWith(n[r],"footable")||i.classes.push(n[r]);var a=t("<div/>",{"class":"footable-loader"}).append(t("<span/>",{"class":"fooicon fooicon-loader"}));return i.$el.hide().after(a),i.execute(!1,!1,"preinit",s).always(function(){i.$el.show(),a.remove()})})},_init:function(){var i=this;return i.raise("init.ft.table").then(function(){var n=i.$el.children("thead"),s=i.$el.children("tbody"),r=i.$el.children("tfoot");return i.$el.addClass("footable footable-"+i.id),e.is.hash(i.o.on)&&i.$el.on(i.o.on),0==r.length&&i.$el.append(r=t("<tfoot/>")),0==s.length&&i.$el.append("<tbody/>"),0==n.length&&i.$el.prepend(n=t("<thead/>")),i.execute(!1,!0,"init").then(function(){return i.$el.data("__FooTable__",i),0==r.children("tr").length&&r.remove(),0==n.children("tr").length&&n.remove(),i.draw().then(function(){t(window).off("resize.ft"+i.id,i._onWindowResize).on("resize.ft"+i.id,{self:i},i._onWindowResize),i.initialized=!0})})})},destroy:function(){var t=this;return t.raise("destroy.ft.table").then(function(){return t.execute(!0,!0,"destroy").then(function(){t.$el.removeData("__FooTable__"),e.is.hash(t.o.on)&&t.$el.off(t.o.on),t.initialized=!1})},function(t){e.is.error(t)&&console.error("FooTable: unhandled error thrown while destroying the plugin.",t)})},raise:function(i,n){var s=this,r=e.__debug__&&(e.is.emptyArray(e.__debug_options__.events)||e.arr.any(e.__debug_options__.events,function(t){return e.str.contains(i,t)}));return n=n||[],n.unshift(this),t.Deferred(function(e){var o=t.Event(i);1==s.o.stopPropagation&&s.$el.one(i,function(t){t.stopPropagation()}),r&&console.log("FooTable:"+i+": ",n),s.$el.trigger(o,n),o.isDefaultPrevented()?(r&&console.log('FooTable: default prevented for the "'+i+'" event.'),e.reject(o)):e.resolve(o)})},use:function(t){for(var e=this.components.internal.concat(this.components.core,this.components.custom),i=0,n=e.length;n>i;i++)if(e[i]instanceof t)return e[i];return null},draw:function(){var t=this;return t.execute(!1,!0,"predraw").then(function(){return t.raise("predraw.ft.table").then(function(){return t.execute(!1,!0,"draw").then(function(){return t.raise("draw.ft.table").then(function(){return t.execute(!1,!0,"postdraw").then(function(){t.raise("postdraw.ft.table")})})})})},function(t){e.is.error(t)&&console.error("FooTable: unhandled error thrown during a draw operation.",t)})},execute:function(t,i){var n=this,s=Array.prototype.slice.call(arguments);t=s.shift(),i=s.shift();var r=n.components.internal.slice(0),o=i?e.arr.get(n.components.core,function(t){return t.enabled}):n.components.core.slice(0),a=i?e.arr.get(n.components.custom,function(t){return t.enabled}):n.components.custom.slice(0);return s.unshift(t?a.reverse():r),n._execute.apply(n,s).then(function(){return s.shift(),s.unshift(t?o.reverse():o),n._execute.apply(n,s).then(function(){return s.shift(),s.unshift(t?r.reverse():a),n._execute.apply(n,s)})})},_execute:function(i,n){if(!i||!i.length)return t.when();var s,r=this,o=Array.prototype.slice.call(arguments);return i=o.shift(),n=o.shift(),s=i.shift(),e.is.fn(s[n])?t.Deferred(function(t){try{var i=s[n].apply(s,o);if(e.is.promise(i))return i.then(t.resolve,t.reject);t.resolve(i)}catch(r){t.reject(r)}}).then(function(){return r._execute.apply(r,[i,n].concat(o))}):r._execute.apply(r,[i,n].concat(o))},_onWindowResize:function(t){var e=t.data.self;null!=e._resizeTimeout&&clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(function(){e._resizeTimeout=null,e.raise("resize.ft.table").then(function(){e.breakpoints.check()})},300)}})}(jQuery,FooTable),function(t,e){e.is.undef(window.moment)||(e.DateColumn=e.Column.extend({construct:function(t,i){this._super(t,i),this.type="date",this.formatString=e.is.string(i.formatString)?i.formatString:"MM-DD-YYYY"},parser:function(t){if(e.is.jq(t)&&(t=t.data("value")||t.text(),e.is.string(t)&&(t=isNaN(t)?t:+t)),e.is.date(t))return moment(t);if(e.is.object(t)&&e.is.boolean(t._isAMomentObject))return t;if(e.is.string(t)){if(isNaN(t))return moment(t,this.formatString);t=+t}return e.is.number(t)?moment(t):null},formatter:function(t){return e.is.object(t)&&e.is.boolean(t._isAMomentObject)?t.format(this.formatString):""},filterValue:function(i){if((e.is.element(i)||e.is.jq(i))&&(i=t(i).data("filterValue")||t(i).text()),e.is.hash(i)&&e.is.hash(i.options)&&(e.is.string(i.options.filterValue)&&(i=i.options.filterValue),e.is.defined(i.value)&&(i=i.value)),e.is.object(i)&&e.is.boolean(i._isAMomentObject))return i.format(this.formatString);if(e.is.string(i)){if(isNaN(i))return i;i=+i}return e.is.number(i)||e.is.date(i)?moment(i).format(this.formatString):e.is.defined(i)&&null!=i?i+"":""}}),e.columns.register("date",e.DateColumn))}(jQuery,FooTable),function(t,e){e.NumberColumn=e.Column.extend({construct:function(t,e){this._super(t,e),this.type="number"},parser:function(t){return e.is.jq(t)&&(t=t.data("value")||t.text().replace(/[^0-9.\-]/g,"")),e.is.string(t)&&(t=parseFloat(t)),e.is.number(t)?t:null}}),e.columns.register("number",e.NumberColumn)}(jQuery,FooTable),function(t,e){e.Component=e.Class.extend({construct:function(t,i){if(!(t instanceof e.Table))throw new TypeError("The instance parameter must be an instance of FooTable.Table.");this.ft=t,this.enabled=e.is.boolean(i)?i:!1},preinit:null,init:null,destroy:null,predraw:null,draw:null,postdraw:null}),e.components=new e.ClassFactory,e.components.core=new e.ClassFactory,e.components.internal=new e.ClassFactory}(jQuery,FooTable),function(t,e){e.Breakpoint=e.Class.extend({construct:function(t,e){this.name=t,this.width=e}})}(jQuery,FooTable),function(t,e){e.Breakpoints=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.current=null,this.array=[],this.cascade=this.o.cascade,this.hidden=null,this._classNames="",this.getWidth=e.checkFnValue(this,this.o.getWidth,this.getWidth)},preinit:function(t){var i=this;return this.ft.raise("preinit.ft.breakpoints",[t]).then(function(){i.cascade=e.is.boolean(t.cascade)?t.cascade:i.cascade,i.o.breakpoints=e.is.hash(t.breakpoints)?t.breakpoints:i.o.breakpoints,i.getWidth=e.checkFnValue(i,t.getWidth,i.getWidth),null==i.o.breakpoints&&(i.o.breakpoints={xs:480,sm:768,md:992,lg:1200});for(var n in i.o.breakpoints)i.o.breakpoints.hasOwnProperty(n)&&(i.array.push(new e.Breakpoint(n,i.o.breakpoints[n])),i._classNames+="breakpoint-"+n+" ");i.array.sort(function(t,e){return e.width-t.width})})},init:function(){var t=this;return this.ft.raise("init.ft.breakpoints").then(function(){t.current=t.get()})},draw:function(){this.ft.$el.removeClass(this._classNames).addClass("breakpoint-"+this.current.name)},calculate:function(){for(var t,i=this,n=null,s=[],r=null,o=i.getWidth(),a=0,l=i.array.length;l>a;a++)t=i.array[a],(!n&&a==l-1||o>=t.width&&(r instanceof e.Breakpoint?r.width>=o:!0))&&(n=t),n||s.push(t.name),r=t;return s.push(n.name),i.hidden=s.join(" "),n},visible:function(t){if(e.is.emptyString(t))return!0;if("all"===t)return!1;for(var i=t.split(" "),n=0,s=i.length;s>n;n++)if(this.cascade?e.str.containsWord(this.hidden,i[n]):i[n]==this.current.name)return!1;return!0},check:function(){var t=this,i=t.get();i instanceof e.Breakpoint&&i!=t.current&&t.ft.raise("before.ft.breakpoints",[t.current,i]).then(function(){var e=t.current;return t.current=i,t.ft.draw().then(function(){t.ft.raise("after.ft.breakpoints",[t.current,e])})})},get:function(t){return e.is.undef(t)?this.calculate():t instanceof e.Breakpoint?t:e.is.string(t)?e.arr.first(this.array,function(e){return e.name==t}):e.is.number(t)?t>=0&&this.array.length>t?this.array[t]:null:null},getWidth:function(){return e.is.fn(this.o.getWidth)?this.o.getWidth(this.ft):1==this.o.useParentWidth?this.getParentWidth():this.getViewportWidth()},getParentWidth:function(){return this.ft.$el.parent().width()},getViewportWidth:function(){var t=e.is.defined(window.devicePixelRatio)?window.devicePixelRatio:1;return(window.innerWidth||(document.body?document.body.offsetWidth:0))/t}}),e.components.internal.register("breakpoints",e.Breakpoints,10)}(jQuery,FooTable),function(t){t.Column.prototype.breakpoints=null,t.Column.prototype.__breakpoints_define__=function(e){this.breakpoints=t.is.emptyString(e.breakpoints)?null:e.breakpoints},t.Column.extend("define",function(t){this._super(t),this.__breakpoints_define__(t)})}(FooTable),function(t){t.Defaults.prototype.breakpoints=null,t.Defaults.prototype.cascade=!1,t.Defaults.prototype.useParentWidth=!1,t.Defaults.prototype.getWidth=null}(FooTable),function(t,e){e.Columns=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.array=[],this.$header=null,this.showHeader=t.o.showHeader},parse:function(){var i=this;return t.Deferred(function(n){function s(i,n){var s=[];if(0==i.length||0==n.length)s=i.concat(n);else{var r=0;e.arr.each(i.concat(n),function(t){t.index>r&&(r=t.index)}),r++;for(var o,a,l=0;r>l;l++)o={},e.arr.each(i,function(t){return t.index==l?(o=t,!1):void 0}),a={},e.arr.each(n,function(t){return t.index==l?(a=t,!1):void 0}),s.push(t.extend(!0,{},o,a))}return s}function r(t){var s,r=[];e.arr.each(t,function(t){(s=e.columns.contains(t.type)?e.columns.make(t.type,i.ft,t):new e.Column(i.ft,t))&&r.push(s)}),e.is.emptyArray(r)?n.reject(Error("No columns supplied.")):(r.sort(function(t,e){return t.index-e.index}),n.resolve(r))}var o,a,l=[],c=[],u=i.ft.$el.find("tr.footable-header");if(0==u.length&&(u=i.ft.$el.find("thead > tr:last:has([data-breakpoints])")),0==u.length&&(u=i.ft.$el.find("tbody > tr:first:has([data-breakpoints])")),u.length>0){var h=u.parent().is("tbody")&&u.children().length==u.children("td").length;h||(i.$header=u.addClass("footable-header")),u.children("td,th").each(function(e,i){o=t(i),a=o.data(),a.index=e,a.$el=o,a.virtual=h,c.push(a)}),h&&(i.showHeader=!1)}e.is.array(i.o.columns)?(e.arr.each(i.o.columns,function(t,e){t.index=e,l.push(t)}),r(s(l,c))):e.is.promise(i.o.columns)?i.o.columns.then(function(t){e.arr.each(t,function(t,e){t.index=e,l.push(t)}),r(s(l,c))},function(t){n.reject(Error("Columns ajax request error: "+t.status+" ("+t.statusText+")"))}):r(s(l,c))})},preinit:function(t){var i=this;return i.ft.raise("preinit.ft.columns",[t]).then(function(){return i.parse(t).then(function(n){i.array=n,i.showHeader=e.is.boolean(t.showHeader)?t.showHeader:i.showHeader})})},init:function(){var t=this;return this.ft.raise("init.ft.columns",[t.array]).then(function(){t.$create()})},predraw:function(){var t=this,i=!0;t.visibleColspan=0,t.firstVisibleIndex=0,t.lastVisibleIndex=0,t.hasHidden=!1,e.arr.each(t.array,function(e){e.hidden=!t.ft.breakpoints.visible(e.breakpoints),e.hidden||(i&&(t.firstVisibleIndex=e.index,i=!1),t.lastVisibleIndex=e.index,t.visibleColspan++),e.hidden&&e.visible&&(t.hasHidden=!0)})},draw:function(){e.arr.each(this.array,function(t){t.$el.css("display",t.hidden||!t.visible?"none":"table-cell")})},$create:function(){var i=this;i.$header=e.is.jq(i.$header)?i.$header:t("<tr/>",{"class":"footable-header"}),i.$header.children("th,td").detach(),e.arr.each(i.array,function(t){i.$header.append(t.$el)}),i.showHeader&&!e.is.jq(i.$header.parent())&&i.ft.$el.children("thead").append(i.$header)},get:function(t){return t instanceof e.Column?t:e.is.string(t)?e.arr.first(this.array,function(e){return e.name==t}):e.is.number(t)?e.arr.first(this.array,function(e){return e.index==t}):e.is.fn(t)?e.arr.get(this.array,t):null},ensure:function(t){var i=this,n=[];return e.is.array(t)?(e.arr.each(t,function(t){n.push(i.get(t))}),n):n}}),e.components.internal.register("columns",e.Columns,5)}(jQuery,FooTable),function(t){t.Defaults.prototype.columns=[],t.Defaults.prototype.showHeader=!0}(FooTable),function(t,e){e.Rows=e.Component.extend({construct:function(t){this._super(t,!0),this.o=t.o,this.array=[],this.all=[],this.showToggle=t.o.showToggle,this.toggleColumn=t.o.toggleColumn,this.emptyString=t.o.empty,this.expandFirst=t.o.expandFirst,this.$empty=null},parse:function(){var i=this;return t.Deferred(function(n){function s(s){var r=t.map(s,function(t){return new e.Row(i.ft,i.ft.columns.array,t)});e.is.emptyArray(r)?n.reject(Error("No rows supplied.")):n.resolve(r)}var r=i.ft.$el.children("tbody").children("tr");e.is.jq(r)?s(r):e.is.array(i.o.rows)&&i.o.rows.length>0?s(i.o.rows):e.is.promise(i.o.rows)?i.o.rows.then(function(t){s(t)},function(t){n.reject(Error("Rows ajax request error: "+t.status+" ("+t.statusText+")"))}):s([])})},preinit:function(t){var i=this;return i.ft.raise("preinit.ft.rows",[t]).then(function(){return i.parse().then(function(n){i.all=n,i.array=i.all.slice(0),i.showToggle=e.is.boolean(t.showToggle)?t.showToggle:i.showToggle,i.toggleColumn=e.is.string(t.toggleColumn)?t.toggleColumn:i.toggleColumn,"first"!=i.toggleColumn&&"last"!=i.toggleColumn&&(i.toggleColumn="first"),i.emptyString=e.is.string(t.empty)?t.empty:i.emptyString,i.expandFirst=e.is.boolean(t.expandFirst)?t.expandFirst:i.expandFirst})})},init:function(){var e=this;return e.ft.raise("init.ft.rows",[e.all]).then(function(){e.$empty=t("<tr/>",{"class":"footable-empty"}).append(t("<td/>").text(e.emptyString))})},predraw:function(){e.arr.each(this.array,function(t){t.predraw()}),this.array=this.all.slice(0)},draw:function(){var t=this,i=t.ft.$el.children("tbody"),n=!0;t.array.length>0?(t.$empty.detach(),e.arr.each(t.array,function(e){t.expandFirst&&n&&(e.expanded=!0,n=!1),e.draw(i)})):(t.$empty.children("td").attr("colspan",t.ft.columns.visibleColspan),i.append(t.$empty))}}),e.components.internal.register("rows",e.Rows,0)}(jQuery,FooTable),function(t){t.Defaults.prototype.rows=[],t.Defaults.prototype.empty="No results",t.Defaults.prototype.showToggle=!0,t.Defaults.prototype.toggleColumn="first",t.Defaults.prototype.expandFirst=!1}(FooTable),function(t){t.Filter=t.Class.extend({construct:function(e,i,n,s){this.name=e,this.space=!t.is.string(s)||"OR"!=s&&"AND"!=s?"AND":s,this.query=new t.Query(i,this.space),this.columns=n},match:function(e){return t.is.string(e)?(t.is.string(this.query)&&(this.query=new t.Query(this.query,this.space)),this.query instanceof t.Query?this.query.match(e):!1):!1},matchRow:function(e){var i=this,n=t.arr.map(e.cells,function(e){return t.arr.contains(i.columns,e.column)?e.filterValue:null}).join(" ");return i.match(n)}})}(FooTable),function(t,e){e.Filtering=e.Component.extend({construct:function(t){this._super(t,t.o.filtering.enabled),this.filters=t.o.filtering.filters,this.delay=t.o.filtering.delay,this.min=t.o.filtering.min,this.space=t.o.filtering.space,this.placeholder=t.o.filtering.placeholder,this.position=t.o.filtering.position,this.$row=null,this.$cell=null,this.$dropdown=null,this.$input=null,this.$button=null,this._filterTimeout=null},preinit:function(t){var i=this;this.ft.raise("preinit.ft.filtering").then(function(){i.ft.$el.hasClass("footable-filtering")&&(i.enabled=!0),i.enabled=e.is.boolean(t.filtering)?t.filtering:i.enabled,i.enabled&&(i.space=e.is.string(t.filterSpace)?t.filteringSpace:i.space,i.min=e.is.number(t.filterMin)?t.filteringMin:i.min,i.delay=e.is.number(t.filterDelay)?t.filteringDelay:i.delay,i.placeholder=e.is.number(t.filterPlaceholder)?t.filterPlaceholder:i.placeholder,i.filters=e.is.array(t.filters)?i.ensure(t.filters):i.ensure(i.filters),i.ft.$el.hasClass("footable-filtering-left")&&(i.position="left"),i.ft.$el.hasClass("footable-filtering-center")&&(i.position="center"),i.ft.$el.hasClass("footable-filtering-right")&&(i.position="right"),i.position=e.is.string(t.filterPosition)?t.filterPosition:i.position)
},function(){i.enabled=!1})},init:function(){var t=this;this.ft.raise("init.ft.filtering").then(function(){t.$create()},function(){t.enabled=!1})},destroy:function(){var t=this;this.ft.raise("destroy.ft.filtering").then(function(){t.ft.$el.removeClass("footable-filtering").find("thead > tr.footable-filtering").remove()})},$create:function(){var i,n=this,s=t("<div/>",{"class":"form-group"}).append(t("<label/>",{"class":"sr-only",text:"Search"})),r=t("<div/>",{"class":"input-group"}).appendTo(s),o=t("<div/>",{"class":"input-group-btn"}),a=t("<button/>",{type:"button","class":"btn btn-default dropdown-toggle"}).on("click",{self:n},n._onDropdownToggleClicked).append(t("<span/>",{"class":"caret"}));switch(n.position){case"left":i="footable-filtering-left";break;case"center":i="footable-filtering-center";break;default:i="footable-filtering-right"}n.ft.$el.addClass("footable-filtering").addClass(i),n.$row=t("<tr/>",{"class":"footable-filtering"}).prependTo(n.ft.$el.children("thead")),n.$cell=t("<th/>").attr("colspan",n.ft.columns.visibleColspan).appendTo(n.$row),n.$form=t("<form/>",{"class":"form-inline"}).append(s).appendTo(n.$cell),n.$input=t("<input/>",{type:"text","class":"form-control",placeholder:n.placeholder}),n.$button=t("<button/>",{type:"button","class":"btn btn-primary"}).on("click",{self:n},n._onSearchButtonClicked).append(t("<span/>",{"class":"fooicon fooicon-search"})),n.$dropdown=t("<ul/>",{"class":"dropdown-menu dropdown-menu-right"}).append(e.arr.map(n.ft.columns.array,function(e){return e.filterable&&e.visible?t("<li/>").append(t("<a/>",{"class":"checkbox"}).append(t("<label/>",{text:e.title}).prepend(t("<input/>",{type:"checkbox",checked:!0}).data("__FooTableColumn__",e)))):null})),n.delay>0&&(n.$input.on("keypress keyup",{self:n},n._onSearchInputChanged),n.$dropdown.on("click",'input[type="checkbox"]',n._onSearchColumnClicked)),o.append(n.$button,a,n.$dropdown),r.append(n.$input,o)},predraw:function(){if(!e.is.emptyArray(this.filters)){var i=this;i.ft.rows.array=t.grep(i.ft.rows.array,function(t){return t.filtered(i.filters)})}},draw:function(){this.$cell.attr("colspan",this.ft.columns.visibleColspan)},addFilter:function(t,i,n){var s=e.arr.first(this.filters,function(e){return e.name==t});s instanceof e.Filter?(s.name=t,s.query=i,s.columns=n):this.filters.push({name:t,query:i,columns:n})},removeFilter:function(t){e.arr.remove(this.filters,function(e){return e.name==t})},filter:function(i,n){return e.is.undef(i)?i=t.trim(this.$input.val()||""):this.$input.val(i),e.is.emptyString(i)?this.removeFilter("search"):this.addFilter("search",i,n),this.$button.children(".fooicon").removeClass("fooicon-search").addClass("fooicon-remove"),this._filter()},clear:function(){return this.$button.children(".fooicon").removeClass("fooicon-remove").addClass("fooicon-search"),this.$input.val(null),this.removeFilter("search"),this._filter()},columns:function(){return e.is.jq(this.$dropdown)?this.$dropdown.find("input:checked").map(function(){return t(this).data("__FooTableColumn__")}).get():this.ft.columns.get(function(t){return t.filterable})},ensure:function(t){var i=this,n=[],s=i.columns();return e.is.emptyArray(t)||e.arr.each(t,function(t){e.is.object(t)&&(!e.is.emptyString(t.query)||t.query instanceof e.Query)&&(t.name=e.is.emptyString(t.name)?"anon":t.name,t.columns=e.is.emptyArray(t.columns)?s:i.ft.columns.ensure(t.columns),n.push(t instanceof e.Filter?t:new e.Filter(t.name,t.query,t.columns,i.space)))}),n},_filter:function(){var t=this;return t.filters=t.ensure(t.filters),t.ft.raise("before.ft.filtering",[t.filters]).then(function(){return t.filters=t.ensure(t.filters),t.ft.draw().then(function(){t.ft.raise("after.ft.filtering",[t.filters])})})},_onSearchInputChanged:function(t){var i=t.data.self,n="keypress"==t.type&&!e.is.emptyString(String.fromCharCode(t.charCode)),s="keyup"==t.type&&(8==t.which||46==t.which);(n||s)&&(null!=i._filterTimeout&&clearTimeout(i._filterTimeout),i._filterTimeout=setTimeout(function(){i._filterTimeout=null,i.filter()},i.delay))},_onSearchButtonClicked:function(t){t.preventDefault();var e=t.data.self;null!=e._filterTimeout&&clearTimeout(e._filterTimeout);var i=e.$button.children(".fooicon");i.hasClass("fooicon-remove")?e.clear():e.filter()},_onSearchColumnClicked:function(t){var e=t.data.self;null!=e._filterTimeout&&clearTimeout(e._filterTimeout),e._filterTimeout=setTimeout(function(){e._filterTimeout=null;var t=e.$button.children(".fooicon");t.hasClass("fooicon-remove")&&(t.removeClass("fooicon-remove").addClass("fooicon-search"),e.filter())},e.delay)},_onDropdownToggleClicked:function(e){e.preventDefault(),e.stopPropagation();var i=e.data.self;i.$dropdown.parent().toggleClass("open"),i.$dropdown.parent().hasClass("open")?t(document).on("click.footable",{self:i},i._onDocumentClicked):t(document).off("click.footable",i._onDocumentClicked)},_onDocumentClicked:function(e){if(0==t(e.target).closest(".dropdown-menu").length){e.preventDefault();var i=e.data.self;i.$dropdown.parent().removeClass("open"),t(document).off("click.footable",i._onDocumentClicked)}}}),e.components.core.register("filtering",e.Filtering,10)}(jQuery,FooTable),function(t){t.Query=t.Class.extend({construct:function(e,i){this._original=null,this._value=null,this.space=!t.is.string(i)||"OR"!=i&&"AND"!=i?"AND":i,this.left=null,this.right=null,this.parts=[],this.operator=null,this.val(e)},val:function(e){if(t.is.emptyString(e))return this._value;if(t.is.emptyString(this._original))this._original=e;else if(this._original==e)return;this._value=e,this._parse()},match:function(e){return t.is.emptyString(this.operator)||"OR"===this.operator?this._left(e,!1)||this._match(e,!1)||this._right(e,!1):"AND"===this.operator?this._left(e,!0)&&this._match(e,!0)&&this._right(e,!0):void 0},_match:function(e,i){var n=this,s=!1;return t.is.emptyArray(n.parts)&&n.left instanceof t.Query?i:t.is.emptyArray(n.parts)?s:("OR"===n.space?t.arr.each(n.parts,function(i){var n=t.str.contains(e,i.query,!0);return n&&!i.negate&&(s=!0),n&&i.negate?s=!1:void 0}):(s=!0,t.arr.each(n.parts,function(i){var n=t.str.contains(e,i.query,!0);return(!n&&!i.negate||n&&i.negate)&&(s=!1),s})),s)},_left:function(e,i){return this.left instanceof t.Query?this.left.match(e):i},_right:function(e,i){return this.right instanceof t.Query?this.right.match(e):i},_parse:function(){if(!t.is.emptyString(this._value))if(/\sOR\s/.test(this._value)){this.operator="OR";var e=this._value.split(/(?:\sOR\s)(.*)?/);this.left=new t.Query(e[0],this.space),this.right=new t.Query(e[1],this.space)}else if(/\sAND\s/.test(this._value)){this.operator="AND";var i=this._value.split(/(?:\sAND\s)(.*)?/);this.left=new t.Query(i[0],this.space),this.right=new t.Query(i[1],this.space)}else this.parts=t.arr.map(this._value.match(/(?:[^\s"]+|"[^"]*")+/g),this._part)},_part:function(e){var i={query:e,negate:!1,phrase:!1,exact:!1};return t.str.startsWith(i.query,"-")&&(i.query=t.str.from(i.query,"-"),i.negate=!0),/^"(.*?)"$/.test(i.query)?(i.query=i.query.replace(/^"(.*?)"$/,"$1"),i.phrase=!0,i.exact=!0):/(?:\w)+?([-_\+\.])(?:\w)+?/.test(i.query)&&(i.query=i.query.replace(/(?:\w)+?([-_\+\.])(?:\w)+?/g,function(t,e){return t.replace(e," ")}),i.phrase=!0),i}})}(FooTable),function(t){t.Cell.prototype.filterValue=null,t.Cell.prototype.__filtering_define__=function(t){this.filterValue=this.column.filterValue.call(this.column,t)},t.Cell.prototype.__filtering_val__=function(e){t.is.defined(e)&&(this.filterValue=this.column.filterValue.call(this.column,e))},t.Cell.extend("define",function(t){this._super(t),this.__filtering_define__(t)}),t.Cell.extend("val",function(t){var e=this._super(t);return this.__filtering_val__(t),e})}(FooTable),function(t,e){e.Column.prototype.filterable=!0,e.Column.prototype.filterValue=function(i){if(e.is.element(i)||e.is.jq(i))return t(i).data("filterValue")||t(i).text();if(e.is.hash(i)&&e.is.hash(i.options)){if(e.is.string(i.options.filterValue))return i.options.filterValue;e.is.defined(i.value)&&(i=i.value)}return e.is.defined(i)&&null!=i?i+"":""},e.Column.prototype.__filtering_define__=function(t){this.filterable=e.is.boolean(t.filterable)?t.filterable:this.filterable},e.Column.extend("define",function(t){this._super(t),this.__filtering_define__(t)})}(jQuery,FooTable),function(t){t.Defaults.prototype.filtering={enabled:!1,filters:[],delay:1200,min:3,space:"AND",placeholder:"Search",position:"right"}}(FooTable),function(t){t.Row.prototype.filtered=function(e){var i=!0,n=this;return t.arr.each(e,function(t){return 0==(i=t.matchRow(n))?!1:void 0}),i}}(FooTable),function(t){t.Table.prototype.applyFilter=function(e,i){return this.use(t.Filtering).filter(e,i)},t.Table.prototype.clearFilter=function(){return this.use(t.Filtering).clear()}}(FooTable),function(t,e){e.Sorter=e.Class.extend({construct:function(t,e){this.column=t,this.direction=e}})}(jQuery,FooTable),function(t,e){e.Sorting=e.Component.extend({construct:function(t){this._super(t,t.o.sorting.enabled),this.o=t.o.sorting,this.column=null,this._changed=!1},preinit:function(t){var i=this;this.ft.raise("preinit.ft.sorting",[t]).then(function(){i.ft.$el.hasClass("footable-sorting")&&(i.enabled=!0),i.enabled=e.is.boolean(t.sorting)?t.sorting:i.enabled,i.enabled&&(i.column=e.arr.first(i.ft.columns.array,function(t){return t.sorted}))},function(){i.enabled=!1})},init:function(){var i=this;this.ft.raise("init.ft.sorting").then(function(){e.arr.each(i.ft.columns.array,function(e){e.sortable&&e.$el.addClass("footable-sortable").append(t("<span/>",{"class":"fooicon fooicon-sort"}))}),i.ft.$el.on("click.footable",".footable-sortable",{self:i},i._onSortClicked)},function(){i.enabled=!1})},destroy:function(){var t=this;this.ft.raise("destroy.ft.paging").then(function(){t.ft.$el.off("click.footable",".footable-sortable",t._onSortClicked),t.ft.$el.children("thead").children("tr.footable-header").children(".footable-sortable").removeClass("footable-sortable").find("span.fooicon").remove()})},predraw:function(){if(this.column){var t=this,e=t.column;t.ft.rows.array.sort(function(t,i){return"ASC"==e.direction?e.sorter(t.cells[e.index].value,i.cells[e.index].value):e.sorter(i.cells[e.index].value,t.cells[e.index].value)})}},draw:function(){if(this.column){var t=this,e=t.ft.$el.find("thead > tr > .footable-sortable"),i=t.column.$el;e.removeClass("footable-asc footable-desc").children(".fooicon").removeClass("fooicon-sort fooicon-sort-asc fooicon-sort-desc"),e.not(i).children(".fooicon").addClass("fooicon-sort"),i.addClass("ASC"==t.column.direction?"footable-asc":"footable-desc").children(".fooicon").addClass("ASC"==t.column.direction?"fooicon-sort-asc":"fooicon-sort-desc")}},sort:function(t,e){return this._sort(t,e)},_sort:function(t,i){var n=this,s=new e.Sorter(n.ft.columns.get(t),e.Sorting.dir(i));return n.ft.raise("before.ft.sorting",[s]).then(function(){return e.arr.each(n.ft.columns.array,function(t){t!=n.column&&(t.direction=null)}),n.column=n.ft.columns.get(s.column),n.column&&(n.column.direction=e.Sorting.dir(s.direction)),n.ft.draw().then(function(){n.ft.raise("after.ft.sorting",[s])})})},_onSortClicked:function(e){e.preventDefault();var i=e.data.self,n=t(this).closest("th,td"),s=n.is(".footable-asc, .footable-desc")?n.hasClass("footable-desc")?"ASC":"DESC":"ASC";i._sort(n.index(),s)}}),e.Sorting.dir=function(t){return!e.is.string(t)||"ASC"!=t&&"DESC"!=t?"ASC":t},e.components.core.register("sorting",e.Sorting,5)}(jQuery,FooTable),function(t,e){e.Column.prototype.direction=null,e.Column.prototype.sortable=!0,e.Column.prototype.sorted=!1,e.Column.prototype.sorter=function(t,e){return"string"==typeof t&&(t=t.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),t===e?0:e>t?-1:1},e.Column.prototype.__sorting_define__=function(t){this.sorter=e.checkFnValue(this,t.sorter,this.sorter),this.direction=e.is.type(t.direction,"string")?e.Sorting.dir(t.direction):null,this.sortable=e.is.boolean(t.sortable)?t.sortable:!0,this.sorted=e.is.boolean(t.sorted)?t.sorted:!1},e.Column.extend("define",function(t){this._super(t),this.__sorting_define__(t)})}(jQuery,FooTable),function(t){t.Defaults.prototype.sorting={enabled:!1}}(FooTable),function(t){t.Table.prototype.sort=function(e,i){return this.use(t.Sorting).sort(e,i)}}(FooTable),function(t,e){e.Pager=e.Class.extend({construct:function(t,e,i,n,s){this.total=t,this.current=e,this.size=i,this.page=n,this.forward=s}})}(jQuery,FooTable),function(t,e){e.Paging=e.Component.extend({construct:function(t){this._super(t,t.o.paging.enabled),this.strings=t.o.paging.strings,this.current=t.o.paging.current,this.size=t.o.paging.size,this.limit=t.o.paging.limit,this.position=t.o.paging.position,this.countFormat=t.o.paging.countFormat,this.total=-1,this.$row=null,this.$cell=null,this.$pagination=null,this.$count=null,this._previous=1,this._total=0},preinit:function(t){var i=this;this.ft.raise("preinit.ft.paging",[t]).then(function(){i.ft.$el.hasClass("footable-paging")&&(i.enabled=!0),i.enabled=e.is.boolean(t.paging)?t.paging:i.enabled,i.enabled&&(i.size=e.is.number(t.pagingSize)?t.pagingSize:i.size,i.current=e.is.number(t.pagingCurrent)?t.pagingCurrent:i.current,i.limit=e.is.number(t.pagingLimit)?t.pagingLimit:i.limit,i.ft.$el.hasClass("footable-paging-left")&&(i.position="left"),i.ft.$el.hasClass("footable-paging-center")&&(i.position="center"),i.ft.$el.hasClass("footable-paging-right")&&(i.position="right"),i.position=e.is.string(t.pagingPosition)?t.pagingPosition:i.position,i.countFormat=e.is.string(t.pagingCountFormat)?t.pagingCountFormat:i.countFormat,i.total=Math.ceil(i.ft.rows.array.length/i.size),i._total=i.total)},function(){i.enabled=!1})},init:function(){var t=this;this.ft.raise("init.ft.paging").then(function(){t.$create()},function(){t.enabled=!1})},destroy:function(){var t=this;this.ft.raise("destroy.ft.paging").then(function(){t.ft.$el.removeClass("footable-paging").find("tfoot > tr.footable-paging").remove()})},predraw:function(){this.total=Math.ceil(this.ft.rows.array.length/this.size),this.current=this.current>this.total?this.total:1>this.current?1:this.current,this._total=this.ft.rows.array.length,this.ft.rows.array.length>this.size&&(this.ft.rows.array=this.ft.rows.array.splice((this.current-1)*this.size,this.size))},draw:function(){this.$cell.attr("colspan",this.ft.columns.visibleColspan),this._setVisible(this.current,this.current>this._previous),this._setNavigation(!0)},$create:function(){var e,i=this,n=i.total>1,s=function(e,i,n){return t("<li/>",{"class":n}).attr("data-page",e).append(t("<a/>",{"class":"footable-page-link",href:"#"}).data("page",e).html(i))};switch(i.position){case"left":e="footable-paging-left";break;case"right":e="footable-paging-right";break;default:e="footable-paging-center"}if(i.ft.$el.addClass("footable-paging").addClass(e),i.$cell=t("<td/>").attr("colspan",i.ft.columns.visibleColspan),i.$row=t("<tr/>",{"class":"footable-paging"}).append(i.$cell).appendTo(i.ft.$el.children("tfoot")),i.$pagination=t("<ul/>",{"class":"pagination"}).on("click.footable","a.footable-page-link",{self:i},i._onPageClicked),i.$count=t("<span/>",{"class":"label label-default"}),0==i.total||1==i.total)return i.$pagination.empty(),i.$count.text(i.total+" of "+i.total),i._total=i.total,void 0;i.$pagination.empty(),n&&(i.$pagination.append(s("first",i.strings.first,"footable-page-nav")),i.$pagination.append(s("prev",i.strings.prev,"footable-page-nav")),i.limit>0&&i.limit<i.total&&i.$pagination.append(s("prev-limit",i.strings.prevPages,"footable-page-nav")));for(var r,o=0;i.total>o;o++)r=s(o+1,o+1,"footable-page"),i.$pagination.append(r);n&&(i.limit>0&&i.limit<i.total&&i.$pagination.append(s("next-limit",i.strings.nextPages,"footable-page-nav")),i.$pagination.append(s("next",i.strings.next,"footable-page-nav")),i.$pagination.append(s("last",i.strings.last,"footable-page-nav"))),i.$cell.append(i.$pagination,t("<div/>",{"class":"divider"}),i.$count),i._total=i.total},first:function(){return this._set(1)},prev:function(){return this._set(this.current-1>0?this.current-1:1)},next:function(){return this._set(this.current+1<this.total?this.current+1:this.total)},last:function(){return this._set(this.total)},"goto":function(t){return this._set(t>this.total?this.total:1>t?1:t)},prevPages:function(){var t=this.$pagination.children("li.footable-page.visible:first").data("page")-1;this._setVisible(t,!0),this._setNavigation(!1)},nextPages:function(){var t=this.$pagination.children("li.footable-page.visible:last").data("page")+1;this._setVisible(t,!1),this._setNavigation(!1)},_set:function(i){var n=this,s=new e.Pager(n.total,n.current,n.size,i,i>n.current);return n.ft.raise("before.ft.paging",[s]).then(function(){return s.page=s.page>s.total?s.total:s.page,s.page=1>s.page?1:s.page,n.current==i?t.when():(n._previous=n.current,n.current=s.page,n.ft.draw().then(function(){n.ft.raise("after.ft.paging",[s])}))})},_setNavigation:function(t){1==this.current?this.$pagination.children('li[data-page="first"],li[data-page="prev"]').addClass("disabled"):this.$pagination.children('li[data-page="first"],li[data-page="prev"]').removeClass("disabled"),this.current==this.total?this.$pagination.children('li[data-page="next"],li[data-page="last"]').addClass("disabled"):this.$pagination.children('li[data-page="next"],li[data-page="last"]').removeClass("disabled"),1==(this.$pagination.children("li.footable-page.visible:first").data("page")||1)?this.$pagination.children('li[data-page="prev-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="prev-limit"]').removeClass("disabled"),(this.$pagination.children("li.footable-page.visible:last").data("page")||this.limit)==this.total?this.$pagination.children('li[data-page="next-limit"]').addClass("disabled"):this.$pagination.children('li[data-page="next-limit"]').removeClass("disabled"),this.limit>0&&this.total<this.limit?this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').hide():this.$pagination.children('li[data-page="prev-limit"],li[data-page="next-limit"]').show(),t&&this.$pagination.children("li.footable-page").removeClass("active").filter('li[data-page="'+this.current+'"]').addClass("active")},_setVisible:function(t,e){if(this.limit>0&&this.total>this.limit){if(!this.$pagination.children('li.footable-page[data-page="'+t+'"]').hasClass("visible")){var i=0,n=0;1==e?(n=t>this.total?this.total:t,i=n-this.limit):(i=1>t?0:t-1,n=i+this.limit),0>i&&(i=0,n=this.limit>this.total?this.total:this.limit),n>this.total&&(n=this.total,i=0>this.total-this.limit?0:this.total-this.limit),this.$pagination.children("li.footable-page").removeClass("visible").slice(i,n).addClass("visible")}}else this.$pagination.children("li.footable-page").removeClass("visible").slice(0,this.total).addClass("visible");var s=this.size*(t-1)+1,r=this.size*t;0==this.ft.rows.array.length?(s=0,r=0):r=r>this._total?this._total:r,this._setCount(t,this.total,s,r,this._total)},_setCount:function(t,e,i,n,s){this.$count.text(this.countFormat.replace(/\{CP}/g,t).replace(/\{TP}/g,e).replace(/\{PF}/g,i).replace(/\{PL}/g,n).replace(/\{TR}/g,s))},_onPageClicked:function(e){if(e.preventDefault(),!t(e.target).closest("li").is(".active,.disabled")){var i=e.data.self,n=t(this).data("page");switch(n){case"first":return i.first(),void 0;case"prev":return i.prev(),void 0;case"next":return i.next(),void 0;case"last":return i.last(),void 0;case"prev-limit":return i.prevPages(),void 0;case"next-limit":return i.nextPages(),void 0;default:return i._set(n),void 0}}}}),e.components.core.register("paging",e.Paging,0)}(jQuery,FooTable),function(t){t.Defaults.prototype.paging={enabled:!1,countFormat:"{CP} of {TP}",current:1,limit:5,position:"center",size:10,strings:{first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;",prevPages:"...",nextPages:"..."}}}(FooTable),function(t){t.Table.prototype.gotoPage=function(e){return this.use(t.Paging).goto(e)},t.Table.prototype.nextPage=function(){return this.use(t.Paging).next()},t.Table.prototype.prevPage=function(){return this.use(t.Paging).prev()},t.Table.prototype.firstPage=function(){return this.use(t.Paging).first()},t.Table.prototype.lastPage=function(){return this.use(t.Paging).last()},t.Table.prototype.nextPages=function(){return this.use(t.Paging).nextPages()},t.Table.prototype.prevPages=function(){return this.use(t.Paging).prevPages()}}(FooTable);