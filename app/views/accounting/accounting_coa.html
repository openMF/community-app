<div class="col-md-12">
    <ul class="breadcrumb">
        <li><a href="#/accounting">{{'label.anchor.accounting' | translate}}</a></li>
        <li class="active">{{'label.anchor.coa' | translate}}</li>
    </ul>
</div>

<div class="col-md-12" ng-controller="AccCoaController">
    <api-validate></api-validate>
    <legend>{{'label.heading.chartofaccounts' | translate}}
		<div class="col-md-12 col-sm-12">
			<div class="row primarydiv">
				<div class="btn-group pull-right">
					<a ng-show="isTreeView" ng-click="isTreeView=!isTreeView" class="btn btn-primary btn-sm">
						<i class="icon-list icon-white"></i>&nbsp;{{'label.button.listview' | translate}}</a>
					<a ng-hide="isTreeView" ng-click="isTreeView=!isTreeView" class="btn btn-primary btn-sm">
						<i class="icon-sitemap icon-white"></i>&nbsp;{{'label.button.treeview' | translate}}</a>
					<a href="#/createglaccount" class="btn btn-primary btn-sm" has-permission='CREATE_GLACCOUNT'>
						<i class="icon-plus icon-white"></i>&nbsp;{{'label.button.addaccount' | translate}}</a>
				</div>
			</div>
		</div>
    </legend>
	<div class="clear"></div>
    <div ng-hide="isTreeView">
        <input ng-model="filterText" type="text" class="form-control marginbottom0px"
               placeholder="{{'label.input.filterbyAccountGlcodeAccounttype' | translate}}">
        <table class="table">
            <thead>
            <tr class="graybg">
                <th>{{'label.heading.account' | translate}}</th>
                <th>{{'label.heading.glcode' | translate}}</th>
                <th>{{'label.heading.acctype' | translate}}</th>
                <th>{{'label.heading.disabled' | translate}}?</th>
                <th>{{'label.heading.manualentriesallowed' | translate}}</th>
                <th>{{'label.heading.usedas' | translate}}</th>
            </tr>
            </thead>
            <tbody>
            <tr class="pointer-main" ng-repeat="coadata in coadatas | orderBy:'type.value' | filter:filterText">
                <td class="pointer" data-ng-click="routeTo(coadata.id)">
                    {{coadata.name}}
                </td>
                <td class="pointer" data-ng-click="routeTo(coadata.id)">
                    {{coadata.glCode}}
                </td>
                <td class="pointer" data-ng-click="routeTo(coadata.id)">{{coadata.type.value}}</td>
                <td class="pointer" data-ng-click="routeTo(coadata.id)">{{coadata.disabled}}</td>
                <td class="pointer" data-ng-click="routeTo(coadata.id)">{{coadata.manualEntriesAllowed}}</td>
                <td class="pointer" data-ng-click="routeTo(coadata.id)">{{coadata.usage.value}}</td>
            </tr>
            </tbody>
        </table>
    </div>
    <div ng-show="isTreeView">
        <div
                data-angular-treeview="true"
                data-tree-id="treeview"
                data-tree-model="treedata"
                data-node-id="id"
                data-node-label="name"
                data-node-children="children">
        </div>
    </div>
</div>
