<div class="col-md-12" ng-controller="CreateInterestRateChartController">
    <ul class="breadcrumb">
        <li><a href="#/products">{{'label.anchor.products' | translate}}</a></li>
        <li><a href="#/{{productsLink}}">{{'label.anchor.' + productsLink | translate}}</a></li>
        <li><a href="#/{{viewProductLink}}/{{productId}}">{{productName}}</a></li>
        <li><a href="#/interestratecharts/{{productId}}/{{productName}}/{{productType}}">{{'label.anchor.interestratecharts' | translate}}</a></li>
        <li class="active">{{'label.anchor.createinterestratechart' | translate}}</li>
    </ul>

    <api-validate></api-validate>
    <form name="createinterestratechartform" class="form-horizontal well" novalidate="" rc-submit="submitInterestRateChartForm()">
        <legend>{{'label.heading.createinterestratechart' | translate}}</legend>

        <div class="form-group">
            <label class="control-label col-sm-2">{{'label.input.interestratechart.valid.from' | translate}}<span class="required">*</span></label>
            <div class="col-sm-2">
                <input id="fromDate" type="text" class="form-control" ng-model="fromDate.date" required datepicker-pop="dd MMMM yyyy" is-open="opened" min="minDate" max="restrictDate" sort>
            </div>

            <label class="control-label col-sm-2">{{'label.input.interestratechart.valid.to' | translate}}</label>
            <div class="col-sm-2">
                <input id="endDate" type="text" class="form-control" ng-model="endDate.date" datepicker-pop="dd MMMM yyyy" is-open="opened" min="minDate" max="restrictDate" sort>
            </div>
        </div>

        <table class="table">
            <tr class="graybg">
                <th>{{'label.heading.interestratedetails.period.type' | translate}}</th>
                <th colspan="3">{{'label.heading.interestratedetails.period.from.to' | translate}}</th>
                <th>{{'label.heading.interestratedetails.interest' | translate}}</th>
                <th>{{'label.heading.interestratedetails.description' | translate}}</th>
                <th>{{'label.heading.actions' | translate}}</th>
                <th><a ng-click="addNewRow()"><i class="icon-plus-sign icon-white"></i> {{'label.add.row' | translate}}</a></th>
            </tr>
            <tr ng-repeat="chartSlab in chart.chartSlabs">
                <td><select id="periodType" class="input-small" ng-model="chartSlab.periodType.id" ng-options="type.id as type.value for type in chart.periodTypes"></select></td>
                <td><input id="fromPeriod" name="fromPeriod" type="text" class="form-control" ng-model="chartSlab.fromPeriod"></td>
                <td>-</td>
                <td><input id="toPeriod" name="toPeriod" type="text" class="form-control" ng-model="chartSlab.toPeriod"></td>
                <td><input id="annualInterestRate" name="annualInterestRate" type="text" class="form-control" ng-model="chartSlab.annualInterestRate"></td>
                <td><input id="description" name="description" type="text" class="form-control" ng-model="chartSlab.description"></td>
                <td><a ng-click="removeRow($index)"><i class="icon-remove"></i></a></td>
                <td><a ng-click="incentives($index)"><i class="icon-white"></i>{{'label.incentive.row' | translate}}</a></td>
            </tr>
        </table>

        <script type="text/ng-template" id="incentive.html">
            <div class="modal-header silver">
                <h3 class="bolder">{{'label.heading.incentives' | translate}}</h3>
                <h3 class="bolder">{{'label.heading.customerattributes' | translate}}</h3>

                <table class="table">
                    <tr class="graybg">
                        <th>{{'label.heading.interestratedetails.incentive.attributename' | translate}}</th>
                        <th>{{'label.heading.interestratedetails.incentive.conditiontype' | translate}}</th>
                        <th>{{'label.heading.interestratedetails.incentive.attributevalue' | translate}}</th>
                        <th>{{'label.heading.interestratedetails.incentive.incentivetype' | translate}}</th>
                        <th>{{'label.heading.interestratedetails.incentive.amount' | translate}}</th>
                        <th><a ng-click="addNewRow()"><i class="icon-plus-sign icon-white"></i> {{'label.add.row' | translate}}</a></th>
                    </tr>
                    <tr ng-repeat="incentiveData in chartSlab.incentives">
                        <td><select id="attributename" class="form-control" ng-model="incentiveData.attributeName.id" ng-options="type.id as type.value for type in data.attributeNameOptions"></select></td>
                        <td><select id="conditionType" class="form-control" ng-model="incentiveData.conditionType.id" ng-options="type.id as type.value for type in data.conditionTypeOptions"></select></td>
                        <td>
                            <select id="attributeValuegender" class="form-control" ng-show="incentiveData.attributeName.id == 2" ng-model="incentiveData.attributeValue" ng-options="type.id as type.name for type in data.genderOptions"></select>
                            <input id="attributeValue" name="attributeValueclientage" type="text" class="form-control" ng-show="incentiveData.attributeName.id == 3" ng-model="incentiveData.attributeValue">
                            <select id="attributeValueclienttype" class="form-control" ng-show="incentiveData.attributeName.id == 4" ng-model="incentiveData.attributeValue" ng-options="type.id as type.name for type in data.clientTypeOptions"></select>
                            <select id="attributeValueclientclassification" class="form-control" ng-show="incentiveData.attributeName.id == 5" ng-model="incentiveData.attributeValue" ng-options="type.id as type.name for type in data.clientClassificationOptions"></select>
                        </td>
                        <td><select id="incentiveType" class="form-control" ng-model="incentiveData.incentiveType.id" ng-options="type.id as type.value for type in data.incentiveTypeOptions"></select></td>
                        <td><input id="amount" name="amount" type="text" class="form-control" ng-model="incentiveData.amount"></td>
                        <td><a ng-click="removeRow($index)"><i class="icon-remove"></i></a></td>
                    </tr>
                </table>
            </div>

            <div class="modal-footer">
                <button class="btn btn-warning" ng-click="cancel()">{{'label.button.close' | translate}}</button>
            </div>
        </script>

        <div class="text-center">
            <button id="cancel" type="reset" class="btn btn-warning" ng-click="cancel()">{{'label.button.cancel' | translate}}</button>
            <button id="save" type="submit" class="btn btn-primary">{{'label.button.save' | translate}}</button>
        </div>
    </form>
</div>