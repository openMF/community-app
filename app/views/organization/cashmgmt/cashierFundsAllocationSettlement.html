<div class="col-md-12" ng-controller="CashierFundsAllocationSettlementController">
    <ul class="breadcrumb">
        <li><a href="#/organization">{{'label.anchor.organization' | translate}}</a></li>
        <li><a href="#/tellers">{{'label.anchor.tellers' | translate}}</a></li>
        <li>{{cashierTxnTemplate.officeName}}</li>
        <li><a href="#/tellers/{{cashier.tellerId}}/cashiers">{{cashierTxnTemplate.tellerName}}</a></li>
        <li class="active" ng-show="ifAllocate()">{{'label.button.cashier.allocatefunds' | translate}}</li>
        <li class="active" ng-show="ifSettle()">{{'label.button.cashier.settlefunds' | translate}}</li>
    </ul>

    <api-validate></api-validate>
    <form name="cashiertxnform" class="form-horizontal well" novalidate="">
        <legend ng-show="ifAllocate()">{{'label.button.cashier.allocatefunds' | translate}}</legend>
        <legend ng-show="ifSettle()">{{'label.button.cashier.settlefunds' | translate}}</legend>

        <div class="form-group">
            <label class="control-label col-sm-2">{{'label.input.office' | translate}}</label>
            <span class="col-sm-2">{{cashierTxnTemplate.officeName}}</span>

            <label class="control-label col-sm-3">{{'label.input.teller.name' | translate}}</label>
            <span class="col-sm-2">{{cashierTxnTemplate.tellerName}}</span>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2">{{'label.input.cashiername' | translate}}</label>
            <span class="col-sm-2">{{cashierTxnTemplate.cashierName}}</span>

            <label class="control-label col-sm-3">{{'label.input.cashierallocationdetails' | translate}}</label>
            <span class="col-sm-4">{{cashierTxnTemplate.startDate | DateFormat}} - {{cashierTxnTemplate.endDate | DateFormat}}</span>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2">{{'label.input.teller.cashiertxn.txnDate' | translate}}<span class="required">*</span></label>
            <div class="col-sm-2">
                <input id="txnDate" type="text" class="form-control" required ng-model="txnDate" datepicker-pop="dd MMMM yyyy" is-open="opened" min="minDate" max="restrictDate" sort>
            </div>

            <label class="control-label col-sm-3">{{'label.input.currency' | translate}}<span class="required">*</span></label>
            <div class="col-sm-2">
                <select id="currencyCode" class="form-control" ng-model="formData.currencyCode" ng-options="currency.code as currency.name for currency in cashierTxnTemplate.currencyOptions"></select>
            </div>
        </div>

        <div class="form-group">
            <label class="control-label col-sm-2">{{'label.input.teller.cashiertxn.txnAmount' | translate}}<span class="required">*</span></label>
            <div class="col-sm-2">
                <input id="txnAmount" name="txnAmount" type="text" class="form-control" required ng-model="formData.txnAmount" late-Validate>
            </div>

            <label class="control-label col-sm-3">{{'label.input.teller.cashiertxn.txnNote' | translate}}<span class="required">*</span></label>
            <div class="col-sm-2">
                <input id="txnNote" type="text" class="form-control" required ng-model="formData.txnNote">
            </div>
        </div>

        <div class="text-center">
            <a id="cancel" class="btn btn-default" href="#/tellers/{{cashierTxnTemplate.tellerId}}/cashiers">{{'label.button.cancel' | translate}}</a>
            <button id="allocate" type="submit" class="btn btn-success" has-permission='ALLOCATECASHIER_TELLER' ng-click="allocate()" ng-show="ifAllocate()">
                <i class="icon-level-down icon-white"></i> {{'label.button.cashier.allocatefunds' | translate}}
            </button>
            <button id="settle" type="submit" class="btn btn-warning" has-permission='ALLOCATECASHIER_TELLER' ng-click="settle()" ng-show="ifSettle()">
                <i class="icon-level-up icon-white"></i> {{'label.button.cashier.settlefunds' | translate}}
            </button>
        </div>
    </form>
</div>