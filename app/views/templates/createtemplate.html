<div>
    <ul class="breadcrumb">
      <li><a href="#/templates">{{'label.anchor.templates' | translate}}</a> </li>
      <li class="active">{{'label.anchor.createtemplate' | translate}}</li>
    </ul>
</div>
<form class="well" ng-controller="CreateTemplateController">
  <api-validate></api-validate>
    <fieldset>
      <div>
        <div class="col-sm-9 col-md-9">
            <div class="row">
              <div class="col-sm-4 col-md-4">
                  <div class="form-group">
                      <label class="control-label col-sm-2">{{ 'label.input.entity' | translate }}&nbsp;</label>
                      <select id="entity" ng-model="formData.entity" class="form-control col-sm-4" ng-options="entity.id as entity.name for entity in template.entities" value="{{entity.id}}" ng-change="entityChange(formData.entity)"></select>
                  </div>
              </div>
              <div class="col-sm-4 col-md-4 col-md-offset-1">
                  <div class="form-group">
                      <label class="control-label">{{ 'label.input.type' | translate }}&nbsp;</label>
                      <select id="type" ng-model="formData.type" class="form-control col-sm-4" ng-options="type.id as type.name for type in template.types" value="{{type.id}}"></select>
                  </div>
              </div>
              <div class="col-sm-4 col-md-4">
                  <div class="form-group">
                      <label class="control-label col-sm-12">{{ 'label.input.templatename' | translate }}&nbsp;</label>
                      <input id="name" type="text" ng-model="formData.name" class="col-sm-4 form-control">
                  </div>
              </div>
            </div>
            <div class="form-group">
                <button class="btn input-large btn-default" ng-click="advanceOptionClick()">{{'label.button.advancedoptions' | translate}}</button>
                <table width="50%" ng-show="advanceOption=='true'" ng-repeat="mapper in mappers">
                    <tbody>
                      <tr ng-show="mapper.defaultAddIcon == 'true'">
                        <td width="8%">
                          <label class="control-label col-sm-2">{{ 'label.input.mapperkey' | translate }}&nbsp;</label>
                          <input type="text" class="input-medium form-control" ng-model="mapper.mapperskey">
                        </td>
                        <td width="15%">
                          <label class="control-label col-sm-2">{{ 'label.input.mappervalue' | translate }}&nbsp;</label>
                          <input type="text" class="input-xlarge form-control" ng-model="mapper.mappersvalue">
                        </td>
                        <td width="15%">
                          <a class="btn marginbuttontop16px btn-default" ng-click="addMapperKeyValue()">
                            <i class="icon-plus icon-white"></i>
                          </a>
                        </td>
                      </tr>
                      <tr ng-hide="mapper.defaultAddIcon == 'true'">
                        <td width="8%">
                          <label class="control-label col-sm-2">{{ 'label.input.mapperkey' | translate }}&nbsp;</label>
                          <input type="text" class="input-medium form-control" ng-model="mapper.mapperskey">
                        </td>
                        <td width="15%">
                          <label class="control-label col-sm-2">{{ 'label.input.mappervalue' | translate }}&nbsp;</label>
                          <input type="text" class="input-xlarge form-control" ng-model="mapper.mappersvalue" `="">
                        </td>
                        <td width="15%">
                          <a class="btn marginbuttontop16px btn-default" ng-click="deleteMapperKeyValue($index)">
                          <i class="icon-minus icon-white"></i>
                          </a>
                        </td>
                      </tr>
                    </tbody>
                </table>
            </div>
            <div class="form-group">
                <textarea id="templateeditor" ng-model="formData.text" ck-editor=""></textarea>
            </div>
            <div>
                <button id="save" ng-click="submit()" class="btn btn-primary">{{'label.button.save'| translate}}</button>
            </div>
        </div>
        <div class="paddedleft col-sm-4 col-md-4">
          <accordion close-others="true" ng-repeat="entity in templateEntity">
            <accordion-group heading="{{entity.entityName}}">
              <div ng-repeat="templateKey in entity.templateKeys" class="templatekeys" ng-click="templateKeySelected(templateKey)">{{templateKey}}</div>
            </accordion-group>
          </accordion>
        </div>
      </div>
    </fieldset>
</form>
